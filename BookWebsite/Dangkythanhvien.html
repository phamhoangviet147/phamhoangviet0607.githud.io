<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký thành viên</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles/mainstyles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    
</head>
<body>
    <div class="header">

    </div>
    <div class="main">
        <div class="container bg-register">
            <h1>Chào mừng đến với Câu lạc bộ thành viên Booksite</h1>
            <!-- <button class="access-member-page"><a href="#">Truy cập</a></button> -->
            <div class="form-register modal-register-member hidden-modal" id="modal-member">
                <i class="far fa-times-circle close-icon" id="close-icon"></i>
                <form action="" method="post" name="register-member" class="register-member-form" onsubmit="return validateRegister()">
                    <h2>Form đăng ký thành viên</h2>
                    <div class="form-row">
                        <div class="fullname-form">
                            <label for="">Họ tên</label>
                            <input type="text" name="fullname" class="">
                        </div>
                        <div class="phonenumber-form">
                            <label for="">Số điện thoại</label>
                            <input type="text" name="phonenumber" class="">
                        </div>
                    </div>
                    <div class="email-form">
                        <label for="">Email</label>
                        <br>
                        <input type="text" name="email" class="input-w-full">
                    </div>
                    <div class="email-form">
                        <label for="">Mật khẩu</label>
                        <br>
                        <input type="password" name="password" class="">
                    </div>
                    <div class="address-form">
                        <label for="">Địa chỉ</label>
                        <br>
                        <input type="text" name="address" class="input-w-full">
                    </div>
                    <input type="submit" name="register" class="submit-register" value="Đăng ký thành viên">
                </form>
            </div>
        </div>
        
    </div>
    <script>
        window.onload = function(){
               setTimeout(function(){
               var modal = document.getElementById('modal-member');
               modal.className = modal.className.replace("hidden-modal","");
               modal.className +=" show-modal";
               modal.style.display="block";
               document.body.style.display="hidden";         
               var closeModal = document.getElementById('close-icon');
               closeModal.onclick = function(){
                   var modalTarget = closeModal.closest('.modal-register-member');
                   modalTarget.className = modalTarget.className.replace("show-modal","");
                   modalTarget.className+=" hidden-modal";
                   modalTarget.style.display="none";
                   document.body.style.display="initial";
                   
                   }
               },1500)
           }
                          
        const validateRegister = () =>{
            var fullname = document.forms["register-member"]["fullname"].value;
            var email = document.forms["register-member"]["email"].value;
            var phonenumber = document.forms["register-member"]["phonenumber"].value;
            var password = document.forms["register-member"]["password"].value;
            var address = document.forms["register-member"]["address"].value;
            var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
            var phoneformat = /((09|03|07|08|05)+([0-9]{8})\b)/g
            console.log(phonenumber);
            if(fullname.trim()=="" || email.trim()==""||password.trim()==""||phonenumber.trim()==""){
                alert("Vui lòng nhập đầy đủ các thông tin yêu cầu !");
                return false;
            }
           
            else if(!phonenumber.match(phoneformat) || (phonenumber.length <10||phonenumber.length >11)){
                alert("Số điện thoại không hợp lệ");
                return false;
            }
            else if(!email.match(mailformat)){
                alert("Email không hợp lệ")
                return false;
            }
            else{
                localStorage.setItem("email",email);
                localStorage.setItem("password",password);
                console.log(localStorage);
                alert("đăng ký thành công");
                
                // redirect to homepage

                // code add here ---- >
                
                return false;
            }
            
        }       
       
   </script>
</body>
</html>